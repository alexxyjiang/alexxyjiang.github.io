{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/setting-up-virtualbox-on-debian-11-bullseye/","result":{"data":{"markdownRemark":{"id":"f36aa1e5-78bc-5488-ab0f-53962a599771","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ad82441b4db838026574d1131e29c885/4b190/vbox-bullseye.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQP/2gAMAwEAAhADEAAAAceqL0iAP//EABgQAAIDAAAAAAAAAAAAAAAAAAEQAhIT/9oACAEBAAEFAqxyIZX/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAREiAh/9oACAEBAAY/AmO1/8QAGhABAQACAwAAAAAAAAAAAAAAAREQQQAxcf/aAAgBAQABPyEZ3lk4ADe9Z08x/9oADAMBAAIAAwAAABD7P//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAAIBBQEAAAAAAAAAAAAAAAEREAAhMUGB0f/aAAgBAQABPxA9gKrV7SGSQw1ILhH/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ad82441b4db838026574d1131e29c885/8ac56/vbox-bullseye.webp 240w,\n/static/ad82441b4db838026574d1131e29c885/d3be9/vbox-bullseye.webp 480w,\n/static/ad82441b4db838026574d1131e29c885/d00b9/vbox-bullseye.webp 800w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ad82441b4db838026574d1131e29c885/09b79/vbox-bullseye.jpg 240w,\n/static/ad82441b4db838026574d1131e29c885/7cc5e/vbox-bullseye.jpg 480w,\n/static/ad82441b4db838026574d1131e29c885/4b190/vbox-bullseye.jpg 800w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ad82441b4db838026574d1131e29c885/4b190/vbox-bullseye.jpg\"\n            alt=\"vbox-bullseye\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><strong>Oracle VM VirtualBox</strong> is a type-2 hypervisor for x86 virtualization developed by Oracle Corporation. To install it to Debian 11 Bullseye, thereâ€™re a few steps.</p>\n<h2 id=\"install-the-debian-package\" style=\"position:relative;\"><a href=\"#install-the-debian-package\" aria-label=\"install the debian package permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install the debian package</h2>\n<p>This part is quite easy. We just need to add a new apt source, import the related pgp key, and install the package.</p>\n<ul>\n<li>add following line to a new file under <strong>/etc/apt/sources.list.d</strong>.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">deb [arch=amd64] http://download.virtualbox.org/virtualbox/debian bullseye non-free contrib</code></pre></div>\n<ul>\n<li>import the key and run <strong>apt</strong> commands</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># wget -q -O - http://download.virtualbox.org/virtualbox/debian/oracle_vbox_2016.asc | apt-key add -</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># apt update --fix-missing</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># apt install virtualbox</span></code></pre></div>\n<ul>\n<li>(optional) you may download the extension pack from <a href=\"https://www.virtualbox.org/wiki/Downloads\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">oracle</a>.</li>\n</ul>\n<h2 id=\"optional-uefi-secure-boot\" style=\"position:relative;\"><a href=\"#optional-uefi-secure-boot\" aria-label=\"optional uefi secure boot permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(Optional) UEFI Secure Boot</h2>\n<p>If you see some error message like,</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">If your system is using EFI Secure Boot you may need to sign the kernel modules (vboxdrv, vboxnetflt, vboxnetadp, vboxpci) before you can load them. Please see your Linux system's documentation for more information.</code></pre></div>\n<p>you have to sign your kernel module.</p>\n<ul>\n<li>first, you need to generate and import your <strong>MOK</strong>(Machine Owner Key).</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># apt install mokutil openssl</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># openssl req -new -x509 -newkey rsa:2048 -keyout vbox.key -outform DER -out vbox.der -subj \"/CN=Virtual Box/\"</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># mokutil --import vbox.der</span></code></pre></div>\n<p>after doing this, please reboot your machine to make sure the import operation is <strong>executed</strong>.</p>\n<ul>\n<li>then please sign the modules, follow the instructions from <a href=\"https://wiki.debian.org/SecureBoot#Using_your_key_to_sign_modules\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">debian</a>.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># environment variables</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># VERSION=\"$(uname -r)\"</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># SHORT_VERSION=\"$(uname -r | cut -d . -f 1-2)\"</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># MODULES_DIR=/lib/modules/$VERSION</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># KBUILD_DIR=/usr/lib/linux-kbuild-$SHORT_VERSION</span>\n<span class=\"token comment\"># sign modules, one by one (sign multiple modules is not supported)</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># \"$KBUILD_DIR\"/scripts/sign-file sha256 /path-to/vbox.key /path-to/vbox.der vboxdrv.ko</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># \"$KBUILD_DIR\"/scripts/sign-file sha256 /path-to/vbox.key /path-to/vbox.der vboxnetadp.ko</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># \"$KBUILD_DIR\"/scripts/sign-file sha256 /path-to/vbox.key /path-to/vbox.der vboxnetflt.ko</span>\n<span class=\"token comment\"># don't forget to reimport signed modules</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># modprobe vboxdrv</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># modprobe vboxnetadp</span>\n<span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token comment\"># modprobe vboxnetflt</span></code></pre></div>","fields":{"slug":"/posts/2022-08-13---Setting-up-VirtualBox-on-Debian-11-Bullseye//posts/setting-up-virtualbox-on-debian-11-bullseye","tagSlugs":["/tag/linux-system/","/tag/virtual-machine/"]},"frontmatter":{"date":"2022-08-13T15:00:00.000Z","description":"instructions about how to install virtualbox on Debian 11 Bullseye.","tags":["Linux System","Virtual Machine"],"title":"Setting up VirtualBox on Debian 11 Bullseye","socialImage":{"publicURL":"/static/ad82441b4db838026574d1131e29c885/vbox-bullseye.jpg"}}}},"pageContext":{"slug":"/posts/2022-08-13---Setting-up-VirtualBox-on-Debian-11-Bullseye//posts/setting-up-virtualbox-on-debian-11-bullseye"}},"staticQueryHashes":["251939775","288581551","401334301"],"slicesMap":{}}